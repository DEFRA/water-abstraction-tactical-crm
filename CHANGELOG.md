### Changelog

All notable changes to this project will be documented in this file. Dates are displayed in UTC.

Generated by [`auto-changelog`](https://github.com/CookPete/auto-changelog).

#### 1.15.0

> 12 December 2018

- Fix: Check for verified documents by company id [`#135`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/135)
- Feat: Use logger instead of request.log for errors [`#133`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/133)
- Switch to NPM version of hapi-pg-rest-api.  Removes deprecated POST A… [`#128`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/128)
- Fix: Corrects a document_header record [`#122`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/122)
- Bump snyk from 1.110.1 to 1.110.2 [`#121`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/121)
- Bump snyk from 1.83.0 to 1.110.1 [`#119`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/119)
- Feat: Consolidate env variables [`#109`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/109)
- Feat: Aligns with developer standards [`#117`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/117)
- Feat: Adds proxy support for logging to Errbit [`#98`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/98)
- Feature: Improve logging [`#97`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/97)
- Fix: Update airbrake js [`#96`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/96)
- Feat: Separate test tasks [`#95`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/95)
- Feat/water 1315 change access [`#94`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/94)
- Feature: Handle entity name casing [`#93`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/93)
- Feature: Adds a resource to delete verifications [`#92`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/92)
- Add ability to filter documents based on one or more user roles [`#91`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/91)
- Feat: Remove permissions JSONB field from entity_roles [`#90`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/90)
- Feat: Updates queries now isPrimary has gone. [`#89`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/89)
- Remove unused tables [`#87`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/87)
- Update hapi-pg-rest API version [`#86`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/86)
- Adds connection pool logging [`#85`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/85)
- WATER-1271: Add permissions to entity_roles [`#84`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/84)
- Adds ecosystem.config.json for PM2 [`#83`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/83)
- Include new contacts in metadata endpoint [`#82`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/82)
- Use UUID package over self authored uuid generator [`#81`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/81)
- Feat/water 986 hapi 17 [`#80`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/80)
- Include company entity ID [`#78`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/78)
- Return company entity details in contacts API [`#77`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/77)
- Include system_internal_id in results from contacts call [`#76`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/76)
- Return company-level 'notifications' entity in contacts call [`#75`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/75)
- Add document contacts to support area import [`#72`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/72)
- Feature/service dashboard [`#74`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/74)
- Create /kpi endpoint using a view [`#73`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/73)
- Remove git+ [`#71`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/71)
- Include dates and company_entity_id in response [`#70`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/70)
- Contacts endpoint lists all contacts organised by licence [`#69`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/69)
- Feat/water 930 [`#68`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/68)
- add /document_verifications endpoint to support internal view of conf… [`#67`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/67)
- Ensure only current licences are displayed [`#66`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/66)
- Bugfix/role doc speed [`#65`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/65)
- Move roles to database and create endpoints for query roles and entit… [`#64`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/64)
- Bugfix/water 922 [`#63`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/63)
- Bugfix/water 767 [`#62`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/62)
- Add expiry date in document role view [`#61`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/61)
- Improve Travis unit test pipeline [`#60`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/60)
- Adding readme [`#58`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/58)
- Less console output [`#57`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/57)
- stop that. it's too much data for admin users [`#56`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/56)
- Dependency tweaks for Snyk [`#55`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/55)
- update-hapi-pgi-rest-api [`#54`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/54)
- role_document_access view exposed at document_role_access endpoint to… [`#50`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/50)
- Was causing /admin/crm/documents to error [`#49`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/49)
- Add support for pagination in document filter endpoint [`#48`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/48)
- fix permissions issue [`#47`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/47)
- jsonb [`#46`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/46)
- Feat/water 600 [`#45`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/45)
- WATER-736 - Can't register licences - 'Something went wrong' after 's… [`#44`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/44)
- Modify roles query. [`#43`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/43)
- optimize-roles-view [`#42`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/42)
- Allow document company entity to be null to allow reset of association [`#41`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/41)
- Update hapi-pg-rest-api to version with default pagination [`#40`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/40)
- Remove licence holder from search when filtering documents [`#39`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/39)
- Remove unique name/type constraint [`#38`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/38)
- Feat/water 609 [`#37`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/37)
- Remove confusing chars from verification shortcodes [`#36`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/36)
- include company in entity_id search for roles [`#35`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/35)
- Fix issue where empty array supplied in REST API filter param [`#34`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/34)
- FIx issue where document_id changed on upsert [`#33`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/33)
- Feat/rest api [`#32`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/32)
- enable colleague sort for licence access [`#31`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/31)
- Adding ability to filter licences by array or null values.  Adding ve… [`#28`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/28)
- Add water-abstraction regime to db-migrate [`#30`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/30)
- merge release db changes to develop [`#29`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/29)
- document header upsert support [`#26`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/26)
- Fix filtering on email address when individual entity_id specified [`#25`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/25)
- modify role query [`#24`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/24)
- Feat/water 562 [`#23`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/23)
- fix admin issue caused by assuming entity id is always present [`#21`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/21)
- add summary data to licence list [`#20`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/20)
- Unbreak email search [`#19`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/19)
- Fix "Dave Broke The JSON Filter" issue [`#18`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/18)
- sort by external id [`#17`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/17)
- Remove JSON from distinct query and modify sort to use custom name [`#16`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/16)
- Feature/modify search to use view [`#15`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/15)
- fix bug with naming licences [`#14`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/14)
- Role based search [`#13`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/13)
- Support for new view listing all documents available to a role... [`#12`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/12)
- migration scripts [`#11`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/11)
- Feature/move licence custom name to metadata [`#10`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/10)
- use roles in query [`#9`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/9)
- Add jsdoc config [`#8`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/8)
- add jsdoc [`#7`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/7)
- Add sorting, JSDOc comments [`#6`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/6)
- Add ability to search on licence number.  Add % to search query for p… [`#5`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/5)
- Feature/roles support [`#3`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/3)
- include roles in entity response [`#4`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/4)
- Feature/water 564 [`#2`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/2)
- add params to search in CRM [`#1`](https://github.com/DEFRA/water-abstraction-tactical-crm/pull/1)
- Removes unused function [`61fd4d0`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/61fd4d013332a0d04c3e047242ceb5976aee3af2)
- Merge tag 'public_beta_1.13' into develop [`ed6e3c3`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/ed6e3c3d6bba60b15fcb037321709244d1594f41)
- Bumps up har-validator version to 5.1.3 [`63fe1a2`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/63fe1a22955efceb744d3573808405d1a6e6a61c)
- Merge tag 'public_beta_1.12' into develop [`617aeb5`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/617aeb574da40f66133f16023884a5fcbd229158)
- Merge tag 'public_beta_1.11' into develop [`d95fc1a`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/d95fc1a71743de17314c7fa37ad2f9aa4a76232d)
- Update the unique constraint on entity_roles [`b3b020a`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/b3b020a5c6684f6fe5be92665b479c13970bb922)
- Fix issue with promises deleting entities in unit tests [`af71ea8`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/af71ea8df2c07479a33f1f3d20459846fd1643f2)
- Add test for deleting non-existent role [`70e6adc`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/70e6adc2b0e5c1ef3a2d939623598e1c98348c2d)
- Handle case of non-primary user attempting to grant access, add unit test [`771e2d7`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/771e2d71b79855d187aaf9f663680e32e1110781)
- Move delete colleague query to own function [`f88a20a`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/f88a20a18bacf0e5b5259be6f4418f8981a4d156)
- Amend delete colleague so that it checks roles of individual altering colleague.  Add unit test for grant/delete role [`62f54fc`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/62f54fc6889c224c649ea95a64b97e4c14465df1)
- Feature: Allow colleague with returns role [`434feea`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/434feead26e116427499d26e49d159b39f8acfd6)
- Expose find single entity resource [`a7ea049`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/a7ea049a2df547b5c9f44099d129fbaeafac9d8f)
- Merge tag 'public_beta_1.6' into develop [`9d60391`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/9d6039179941a373790b0d4683de59a7b6135eee)
- Reduce pool size [`b28a2ec`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/b28a2ec1b20334acb610bdf46df175f607814b39)
- Enables clustering in PM2 ecosystem config [`c46f940`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/c46f940b353a87d731f13a0e51c6740e986b1010)
- WATER-986: Upgrade to HAPI 17 [`dbf2558`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/dbf25583c22a6674aa8dc646bc2a83b068293949)
- Update hapi-pg-rest-api to support multi-record delete endpoint [`51e76bf`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/51e76bf7c199857142d16bdfabdb1483302c86ac)
- Additional queries for dashboard [`7e92f8d`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/7e92f8dce80a743c2ab6299109508a17cb359f95)
- Additional CRM KPI queries [`59b6000`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/59b60007ba1bce1a86b8e7d916ec229e42f2a086)
- Reduce line count [`29a7800`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/29a78002a6f10e9a820d7cbc199ce5dc12a5320d)
- More tidying [`032c37e`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/032c37e88f879dadb481f23df9a3b24ec540c284)
- Refactor, add comments [`9622162`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/962216221ee898c7a717060f43404d4ba5dccc00)
- Refactor, also return postal address for primary_user as they have verified this by letter [`37bfbe6`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/37bfbe6cca4c5b7007222de25b3fdeef9d7ea403)
- Ensure user role taken into consideration for building contacts list.  De-duplicate licence holder in list. [`add42bd`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/add42bd2dc6e4a554381432452899890a9cb70ed)
- fix copy/paste error [`b5bc25b`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/b5bc25b9ba29fc9f65ce86f0b70574bf88626fd8)
- add /document_verifications endpoint to support internal view of confirmation code [`bd4f1f4`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/bd4f1f47d9888018fffa4a20b9841a5975f8aace)
- De-duplicating contacts [`538ab59`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/538ab59cb2c0604d4858bf42e43e001617e180f0)
- Fix issue with empty body [`30e24d7`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/30e24d76d9e2628b953576eee27036450c7a8bc6)
- Refactor [`3c88799`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/3c88799957fac1a98ac589d682ce4ca23dba3247)
- Reduce complexity [`b7f6e71`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/b7f6e71c2342704c655af7f2f192b2a9368e98ff)
- Improve readability [`087f61f`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/087f61fd9f2d2fc15e8eb7d51f5986eb4f61d245)
- Remove redundant code [`f8c7821`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/f8c7821405b9227c792fc3dcee4c4fcdb8f712e6)
- Add Joi validation for document_name field [`364a2f0`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/364a2f051afa69a1546673637c4ef66f16fe7a44)
- Remove old APIs for naming docs [`8ef8f1c`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/8ef8f1c9f34c924c987b0076fda9fe29081b53cf)
- Handle case where email/entity not found [`032b100`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/032b10030c291f418d5115c9ca387014e98f8d28)
- Move all custom filtering to document headers preSelect [`b234ff4`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/b234ff46772bd138707a91333e39f76057384903)
- Support sorting [`9e37291`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/9e37291b65667b4d5ee9d684013a59d2db55fe1d)
- Remap document filter call to HAPI PG rest API call, move document name to document table [`51a3658`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/51a3658e0cbe55edaf14ab02966e1daa04060a1a)
- include view + endpoint for returning roles with entity name and type [`01c564d`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/01c564d8c3bac6b123fc9c826fa4c4f026722927)
- Move roles to database and create endpoints for query roles and entity_roles [`fb070f8`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/fb070f8a6b80e080b287beddef3868f90c16843a)
- Fix issue with multiple document verification [`911e4ff`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/911e4ff80e3b3933131ccfaee8c53dcf23a421e3)
- Modify role doc filter to only return current docs [`739e3f7`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/739e3f7545f9f2c9ecbe06e383d0d7ec30869fb4)
- Update unit tests [`d977dd0`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/d977dd04ef0cec9d9e1186e8f9a8f59717c2417b)
- Ability to POST/GET list of document IDs in verification request [`07d2858`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/07d285835febe6e9a8f22c1b6656d19ff32d47c0)
- Create join table for verification documents [`e05b916`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/e05b916d21a0cf51947875f6aac8d70fa0fa7d35)
- Update README.MD [`6ed05b2`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/6ed05b204a233e8684e21356d392a6497557ac83)
- Adjust package files to remove git+ reference [`1defe08`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/1defe0862b25339e56763bc46feb662ea82ee4ea)
- role_document_access view exposed at document_role_access endpoint to enable finding primary user for a document [`2ec6655`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/2ec665508c0a9ca042dbf2d9ce4e4d6f3a6dfb50)
- bug-717 again [`0f1baa5`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/0f1baa577d1f0e81c7fea303ed5d8c11b7d242e5)
- Add back codecov report [`ecbe72e`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/ecbe72ece8edf5960eed33a9704357947a4912b9)
- Tweak JWT auth [`85c197f`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/85c197fc2235a9f1993775a09ac0c75d8e0899ba)
- Add proper JWT secret/token to Travis config [`0c0c3b9`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/0c0c3b965bf7b125849e8c114f83b9ddb3f38a46)
- Log errors in verify test script before/after hooks [`2cef686`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/2cef686db4c56dad66ed048a76a16070b8d2ebfb)
- Testing npm run test [`6763ab6`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/6763ab6f7f860363ec4a20a7de82661590bc6c17)
- Log node version in test script [`938d7d0`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/938d7d032bbbe76093fac978f3d0316e5e72cd8a)
- Rewrite lab before/after hooks async that return value [`28cbfd0`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/28cbfd0351faed36da5c7b2a25c0e6696c572e2d)
- Reduce threshold [`94298d0`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/94298d0fa9028043c01d834f8e2b1551e69afa45)
- Tweak to test script [`3df7ddc`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/3df7ddc8898de0e28b218f5590295ba67a2044b5)
- Add build status badge to readme [`620c7f9`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/620c7f95acd192368981e81da55612eb9eb80c52)
- Remove coverage report for now [`e29e5e1`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/e29e5e17f0394208c9efdb699a7e2967c385c52e)
- Update NPM packages [`0b48794`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/0b48794d51e4a356e4293ef12fe44e45e2d1595d)
- Set node engine in package.json [`3dd968c`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/3dd968c99814afce819e4c263a8435fd7183bc58)
- Adding packages for codecov report [`23d258b`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/23d258b4e6da72543f64088dbcb8c7d2771ef051)
- Add node script to create schema to resolve issue with db-migrate on Travis [`2ead1cc`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/2ead1cc21fdcb4932437776f39d475fa9f43ebcc)
- Move migrations to root level [`dcccb4d`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/dcccb4d4dded08270c3b6812bfb871f79aa2237a)
- Remove quotes from schema name [`7ed4ac2`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/7ed4ac20b352ce961353a35e6a605fddee5a1d63)
- Create schema in migrations [`a5981fd`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/a5981fd792cafb549b4be36fe427b1b52fa1fac9)
- Add migrate task to main package.json [`42213a7`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/42213a7878a2605ced5ef911fd029c8b96c3f99f)
- Rename travis file [`b6c6e35`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/b6c6e357bb61099f27139b870f4b4243b59abe4b)
- Update travis.yml [`6139a7a`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/6139a7a8bfd1bf2f64b9e525df06337e6bf47a67)
- WATER-736 - Can't register licences - 'Something went wrong' after 'select address' step [`dad3c66`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/dad3c66abefbc21de7bdd3575a68e8e10f360ac9)
- hotfix: remove git+ from URL for hapi-pg-rest-api [`3d2e3de`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/3d2e3de1ac6364659077cd2a88d71fc10aef94e4)
- Add upsert to document headers [`228451c`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/228451c796a84111d054afb9487b27c9ad869209)
- Remove old rest-api implementation [`41ebe73`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/41ebe735475d3a1c2a413c1673f162c192af6408)
- Removing old API code [`282527e`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/282527e578c6ce0d27ebb67f66339c716fb15336)
- Convert entity roles to REST API [`9c33d73`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/9c33d73b2d3c7c464711751e49f8d9448e83561e)
- Update unit tests [`5fb1354`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/5fb1354e3967367d4a14396f3151a1abd674a19d)
- Replace bulk patch documentheaders with REST API version [`59775fa`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/59775fae4cd2431368172b27b0f2d98db0edc247)
- Removing deprecated routes, updating others to use REST API module [`5da0029`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/5da00290d9fa95140e79bab3b3cdf03f54411036)
- Replacing some CRM routes with REST API [`52e70f5`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/52e70f56167d65fbdafa8c849b0e4fdeb9c96fd7)
- Moving verifications / documentHeaders REST api controllers to own files [`3261d61`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/3261d617986c417b25fb6275fff49c3485e981e1)
- Delete redundant verifications code [`3f8a614`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/3f8a614fc7c9356770c26628849c4de755f38a83)
- Update README.MD [`1fe8f3b`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/1fe8f3b671015b703b775fb4512ab8add168e22e)
- Starting to use REST API for more routes [`fa63ef1`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/fa63ef1b7b5d17769a3aabef782cf62299e207c5)
- implement water-560 [`165a269`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/165a2692cfa3e63ec2d6c69c3adaf9dae8ca3e08)
- Tweaking REST API for verifications [`57a0bf1`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/57a0bf1ffcf3a909d678346b6e24c62f7e23a828)
- Tweaks to HAPI REST API, test script [`177c22f`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/177c22f2abd37a915eaa8bf288ac00f94a62031d)
- Further changes to support licence claim/verify [`373c49e`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/373c49e55de6aac1c8d6c060adff9744715b682d)
- migration scripts for companies [`1e30d52`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/1e30d5209ee68dcc0e42af5396b39766f00c29b5)
- migration scripts for data [`ffd4387`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/ffd4387d85d06bc2ff1841cf1f7757b8af10d850)
- Adding full address to CRM licence list [`9bf791a`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/9bf791a60331b761aea7446b88dcb52cdadad4f8)
- Add document postcode to returned data [`e97ac59`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/e97ac59924ce76be44a8ef2a656ab0ba8e974f00)
- Adding ability to filter licences by array or null values.  Adding verified and verification_id fields to role_document_access view. [`7c3ba4a`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/7c3ba4a72ab79e970bf6f79ce3c6e92c126b69c2)
- Updated readme [`bb27880`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/bb278801a2b08d64c02fecc26ccab3a02fdec5e7)
- too many params in query [`f597b6f`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/f597b6f6616672592ee890ebe3e8d5e40e98e1b0)
- Adding APIs to CRM for licence verification step [`b2bcc0e`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/b2bcc0e885fbbb126b330969d2d4bef1ff694fff)
- Added back accidentally deleted deleteDocumentHeader method (not implemented) [`af36129`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/af36129b0c98ff685484454f78c36bee1290d0f6)
- Added doc header verification method [`8d7f7c2`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/8d7f7c23d77f4aa0b3e27f07736129c28fc37131)
- Add unit test for creating verification [`f305906`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/f305906dee74b4a85b92dc977297eaab2c00c32c)
- remove owner id [`7684d30`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/7684d30f94ab7830317888e11db9a659c1eecf10)
- fix migrate issue [`dbf705c`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/dbf705c7e2202865dad5cee042ffffed69f5f6a6)
- Add method to generate verification record [`51dd4de`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/51dd4deb6e36de1873b5b9aec59bd16e66deea49)
- Create and delete documentHeader as part of verify test.  Implement delete documentHeader call [`756d847`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/756d8471b7caef97a86073d163f7d4572eb4fb0d)
- Create company and individual test entity during lab test.  Implemented delete entity [`7349710`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/73497102547a1019e8df9cacd200d9f6f76dbea3)
- Adding migrations for entity/document verification [`37d752e`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/37d752eadf67758c149e723925bfc908a940f24c)
- Additional data returned in filter query [`6dffe0e`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/6dffe0e8c7d7447d38e50e1decc880f038fdba7f)
- Filthy fix, direct to github [`2118d22`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/2118d2268b2e9a650e85f034b4b3d139d127a691)
- return distinct licences with minimal response fields in search page [`2fb4b25`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/2fb4b256855c771a8f802ba6b582a55f7f03db73)
- fix bug caused moving from join query to view [`36a2fa2`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/36a2fa208b5e4be0480ebdfc4285e402cd2b0929)
- fix query issue [`1265c98`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/1265c9819d592715e0e59c299153d11a5f3ba0c0)
- Remove docs for now [`26b594d`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/26b594d485e34db81ff374a34fcc706d0b776217)
- Fix issue where sort param could be defined but empty object [`d7d5aca`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/d7d5aca281f61896c230dda38098331de1342f23)
- typo [`36a53f0`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/36a53f04e6b5ef2d78d95bf1e7c24d2e88734988)
- update search query to reflect changes to metadata storage [`8f8cec8`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/8f8cec850bceb078bf26273b02af1345154e5919)
- Remove entity id from document name set/get [`8526444`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/8526444c7bf0029a1047bb6e540531e77ae1f273)
- Add jsdoc config [`5db4297`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/5db4297ddfa671f975870b8d55b89a90030289c4)
- Add ability to filter by document_id (exact match only) [`7b57142`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/7b57142741a843759ccbc83b3bbccd4292c4bf47)
- Add ability to search on licence number.  Add % to search query for partial matches [`0c5513f`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/0c5513fba666a61a4f2a557e8d673493d067cf68)
- Some housekeeping... [`25e4df9`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/25e4df9f7ccd2ddb8739ed6d4faa234347f86bf7)
- POST, GET and DELETE roles for entity_id [`4c3a6b7`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/4c3a6b7b46d0793d71682fca8d6a5135e5a3a2c0)
- CRM support for document names [`5e91daf`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/5e91daf8b40e50c5d4ecaec35f89e147a03b1da8)
- Number params for SQL [`341ad7e`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/341ad7e30fa625c461d81f2497b7d87dec6be1c0)
- add functions [`1f53c1c`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/1f53c1cefe6d509daeda82cb8463824d4e87120e)
- Lower case email filter [`1ea41e3`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/1ea41e3d367b3ecac0cd605569bb52e94378568b)
- Changes to support multi user access to permits [`0c4a760`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/0c4a760499bb9497d3da9b1a019f1a09e2deac44)
- breaking changes JWT + node 8 [`dfcbccb`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/dfcbccb4d05c5eeb79270809cd6494dbdd942626)
- blipp and errbit [`69552de`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/69552de1ccc69c5c15cea03ae88cce65ac7ba0d3)
- blipp and errbit [`8218c58`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/8218c5816b4e2d57a80fe8b76ed5a2da40c62801)
- assign document to entity [`5b0e3e9`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/5b0e3e9a2df6023f4153b3e0539ce47a63e2dc5f)
- water-523 [`8a0f569`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/8a0f5698bc8824a54d0defb2383d8087d2d0ce89)
- general ammendments [`3c1923d`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/3c1923d7e54e543ad5979cb805f13ec8acf351b0)
- initial [`2f7b5e2`](https://github.com/DEFRA/water-abstraction-tactical-crm/commit/2f7b5e2b59cbd958bb47ebe8f1f6a5a2c3d321b2)
